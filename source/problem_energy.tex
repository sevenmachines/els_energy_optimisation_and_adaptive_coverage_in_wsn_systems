
\subsection{Energy in the system}
\todo[inline]{PROBLEM - ENERGY}
\subsubsection{Availability of energy}

Each agent $\varAgent{}{}$ has a battery that can store energy $\varBatteryEnergy{}{}$ up to a maximum value $\varBatteryEnergyMax{}{}$.

\begin{definition}[Agent energy available]
	The agent energy available is the fractional energy available to an agent $\varAgent{}{}$ to utilise.
	\begin{equation}
		\functionAgentEnergyAvailable{}{} = \varBatteryEnergy{}{} / \varBatteryEnergyMax{}{}
	\end{equation}
\end{definition}

\begin{definition}[System energy available]
	The system energy available, $\functionSystemEnergyAvailable{}{}$, is the energy available to all agents $\setAgents{}{}$ in the system as a whole.
	\begin{equation}
		\functionSystemEnergyAvailable{}{} 
		= \sum_{\forall \varAgent{}{} \in \setAgents{}{}} \functionAgentEnergyAvailable{\varAgent{i}{}}{}
	\end{equation}
	Note, the task energy consumption also includes any orchestration tasks agents execute such as information requests.
\end{definition}
	
\begin{definition}[System energy variability]
	The \textit{system energy variability} is the variance\footnote{Using the standard definition of variability of a discrete set $X$, $\sigma^2(X) = \frac{\sum (x_i - \bar{x})^2}{\funcSize{X}-1}$} of energy available to each agent in the system as a whole at time $\varTime{}{}$.
	\begin{equation}     	
		\functionSystemEnergyVariability{}{} 
		= \sigma^2(
			\lbrace \functionAgentEnergyAvailable{}{}
			\rbrace_{\forall \varAgent{}{} \in \setAgents{}{}}
		)
	\end{equation}
\end{definition}

\subsubsection{Energy consumption}
\todo[inline]{Define task consumption in terms of arc}
\begin{definition}[Task energy consumption]
	The task energy consumption is the energy used by all agents in the system in executing a composite task $\varCompositeTask{}{}$. Transmission energy, $\varTransmissionEnergy{}{}$, the power used by a parent agent $\varParentAgent{}{}$ broadcasting a message to a child agent $\varChildAgent{}{}$, or a child agent replying to a parent. Receiver energy, $\varReceiverEnergy{}{}$, is the energy used an agent receives a message. Finally idle energy, $\varIdleEnergy{}{}$, for any inactive agents $\varIdleAgent{}{}$ in idle, power saving mode, and sleep mode energy $\varIdleEnergy{}{}$ for agents $\varSleepAgent{}{}$ in sleep mode.
	\begin{equation}
		\functionTaskEnergy{}{} 
		= \varTransmissionEnergy{}{} \sum (\varParentAgent{}{} + \varChildAgent{}{})
		+ \varReceiverEnergy{}{} (1 + \sum \varChildAgent{}{})
		+ \varIdleEnergy{}{} \sum \varIdleAgent{}{}
		+ \varSleepEnergy{}{} \sum \varSleepAgent{}{}
	\end{equation}
\end{definition}



\begin{definition}[System energy consumption]
	The system energy consumption is the energy used by all of the $m$ tasks that are completed within the time period $\setTime{}{}$.
	\begin{equation}
		\functionSystemEnergyConsumption{}{} 
		= \sum_{\forall \varAgent{}{} \in \setAgents{}{}}  \functionTaskEnergy{}{}
	\end{equation}
	Note, the task energy consumption also includes any orchestration tasks agents execute such as information requests.
\end{definition}

