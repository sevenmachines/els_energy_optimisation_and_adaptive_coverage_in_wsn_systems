%%%%%%%%%%%%%%%%%
\newcommand{\functionAtomicTaskQualitySignature}[2]{
\ifx&#1&
	\functionSignature{q} {\varAtomicTask{}{}, \varAgent{}{}}
\else
\functionSignature{q}{#1, #2}
\fi
}
\newcommand{\functionAtomicTaskQualitySensor}[2]{
	\functionSignature{q} {\varAtomicTask{}{}, \functionSenseRole{}{}}
}

\newcommand{\functionComponentTaskValue}[2]{
	\functionSignature{ctv}{\varAtomicTask{}{}}
}
\newcommand{\formalComponentTaskValue}[2]{
	\functionFormal{ctv}{\setAtomicTask{}{}}{\setRealNumbersNonNegative{}{}}
}
\newcommand{\functionSystemUtility}[2]{\functionSignature{u}{\setTime{}{}}}
%%%%%%%%%%%%%%%%%%%
\newcommand{\functionCompositeTaskQuality}[2]{
	\functionSignature{taq_\varTime{}{}}{\varCompositeTask{}{}}
}
\newcommand{\functionTaskAbsoluteValue}[2]{
	\functionSignature{atv}{\varCompositeTask{}{}, \varAtomicTask{}{}}
}

\newcommand{\functionRelativeDistance}[2]{
	\functionSignature{dist}{\varAtomicTask{}{}, \varAgent{}{}}
}
%%%%%%%%%%%%%%%%%%%%%
\subsection{Task quality and system utility}
\label{section:task_quality}

An agent that takes a measurement will complete that task with a certain \textit{atomic task quality}\footnote{See definition of key requirements, \ref{requirement:quality}, in Section \ref{section:background}}. This is dependant on the resources it has dedicated to tasks of that type, and its distance to the tasks' demand point.  In addition, the longer the sample time of the measurement the more accurate the reading will be, however,  more energy is used. As the location grid has unit length, we can specify the atomic task quality of an atomic task $\varAtomicTask{}{}$ as a value in the range $\lbrack 0, 1 \rbrack$,
\begin{equation}
	\label{eq:atomic_task_quality}
	\functionAtomicTaskQualitySignature{}{} = 
	{\functionTaskResourceAllocation{}{}}
	\bigg ( 1 - \frac{\funcSize{
			\functionTaskDemandPoint{}{} - \functionDeployment{\varAgent{}{}}{} 
		}{}}{{\sqrt{2}}}\bigg )
\end{equation}

When a composite task is completed, the value of an atomic task to its final outcome can be measured. This may be dependent on factors such as whether or not it replicated a nearby result, making it less valuable than an atomic task that uniquely covered a demand point for example. We define the \textit{component task value} as the mapping, $\formalComponentTaskValue{}{}$,  of each atomic task to the fractional value of each of them to a composite tasks' completion, such that $\sum\limits_{\forall \varAtomicTask{}{} \in \varCompositeTask{}{}} \functionComponentTaskValue{}{} = 1$.

The quality of a composite task will not only be dependent on the value of its atomic tasks, but also on how well nodes in their respective task-paths have minimised energy usage, and energy distribution. Therefore we define the \textit{composite task quality} with these multiple objectives included as terms,
\begin{equation}
	\label{eq:ctv}
	\functionCompositeTaskQuality{}{} = 
	\sum\limits_{\forall \varAtomicTask{}{} \in \varCompositeTask{}{}}
	\big\lbrack
	\alpha\underbrace{\functionEnergyAvailable{\functionTaskArc{}{}}{}}_{\text{energy available}}
	+ \beta\underbrace{\functionEnergyVariability{\functionTaskArc{}{}}{}}_{\text{energy distribution}}
	+ 
	\gamma\underbrace{
		\functionComponentTaskValue{}{}
		\functionAtomicTaskQualitySignature{\varAtomicTask{}{}}{\functionSenseRole{}{}}
	}_{\text{task quality}}
\big\rbrack
\end{equation}
where $\alpha$, $\beta$, and $\gamma$, are proportions chosen at system initialisation to weight the influence of energy, distribution, and task quality respectively. We then define each atomic task's absolute value to the system as the product of the respective composite task's quality and the fractional contribution of the atomic task to that quality,
\begin{equation}
	\functionTaskAbsoluteValue{}{} = 
	\functionCompositeTaskQuality{}{}
	\functionAtomicTaskQualitySignature{}{}
\end{equation}

The overall \textit{ utility} of the system over a time period $\setTime{}{}$ will then be the sum of the composite task qualities of all the composite tasks $\setCompositeTask{}{}$ completed during that period.
	\begin{equation}
		\label{eq:system_utility}
		\functionSystemUtility{}{} = \sum\limits_{\varTime{}{} \in \setTime{}{}}
		\sum\limits_{\forall \varCompositeTask{}{} \in \setCompositeTask{\setTime{}{}}{}}
		\functionCompositeTaskQuality{}{}
	\end{equation}